[
  {
    "objectID": "content/01_journal/01_Machine_Learning_Fundamentals.html",
    "href": "content/01_journal/01_Machine_Learning_Fundamentals.html",
    "title": "Machine Learning Fundamentals",
    "section": "",
    "text": "1 Challenge\n\n##----libraries----\nlibrary(tidyverse)\n\n#> ── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n#> ✔ dplyr     1.1.2     ✔ readr     2.1.4\n#> ✔ forcats   1.0.0     ✔ stringr   1.5.0\n#> ✔ ggplot2   3.4.2     ✔ tibble    3.2.1\n#> ✔ lubridate 1.9.2     ✔ tidyr     1.3.0\n#> ✔ purrr     1.0.1     \n#> ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n#> ✖ dplyr::filter() masks stats::filter()\n#> ✖ dplyr::lag()    masks stats::lag()\n#> ℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n\nlibrary(tidyquant)\n\n#> Loading required package: PerformanceAnalytics\n#> Loading required package: xts\n#> Loading required package: zoo\n#> \n#> Attaching package: 'zoo'\n#> \n#> The following objects are masked from 'package:base':\n#> \n#>     as.Date, as.Date.numeric\n#> \n#> \n#> ######################### Warning from 'xts' package ##########################\n#> #                                                                             #\n#> # The dplyr lag() function breaks how base R's lag() function is supposed to  #\n#> # work, which breaks lag(my_xts). Calls to lag(my_xts) that you type or       #\n#> # source() into this session won't work correctly.                            #\n#> #                                                                             #\n#> # Use stats::lag() to make sure you're not using dplyr::lag(), or you can add #\n#> # conflictRules('dplyr', exclude = 'lag') to your .Rprofile to stop           #\n#> # dplyr from breaking base R's lag() function.                                #\n#> #                                                                             #\n#> # Code in packages is not affected. It's protected by R's namespace mechanism #\n#> # Set `options(xts.warn_dplyr_breaks_lag = FALSE)` to suppress this warning.  #\n#> #                                                                             #\n#> ###############################################################################\n#> \n#> Attaching package: 'xts'\n#> \n#> The following objects are masked from 'package:dplyr':\n#> \n#>     first, last\n#> \n#> \n#> Attaching package: 'PerformanceAnalytics'\n#> \n#> The following object is masked from 'package:graphics':\n#> \n#>     legend\n#> \n#> Loading required package: quantmod\n#> Loading required package: TTR\n#> Registered S3 method overwritten by 'quantmod':\n#>   method            from\n#>   as.zoo.data.frame zoo\n\nlibrary(broom)\nlibrary(umap)\nlibrary(dplyr)\nlibrary(tidyr)\nlibrary(tibble)\nlibrary(ggplot2)\nlibrary(ggrepel)\n\n##----.read the data----\nsp_500_prices_tbl <- readRDS(\"C:/Users/mosta/Desktop/Business Decisions with Machine Learning/1/sp_500_prices_tbl.rds\")\nsp_500_prices_tbl\n\n\n\n  \n\n\nsp_500_index_tbl <- readRDS(\"C:/Users/mosta/Desktop/Business Decisions with Machine Learning/1/sp_500_index_tbl.rds\")\nsp_500_index_tbl\n\n\n\n  \n\n\n##----.Step1 (Convert stock prices to a standardized format (daily returns)----\nsp_500_daily_returns_tbl <- sp_500_prices_tbl %>%\n  filter(date >= as.Date(\"2018-01-01\")) %>%\n  select(symbol, date, adjusted) %>%\n  group_by(symbol) %>%\n  mutate(lag_adjusted = lag(adjusted),\n         pct_return = (adjusted - lag_adjusted) / lag_adjusted) %>%\n  filter(!is.na(pct_return)) %>%\n  select(symbol, date, pct_return) \n  sp_500_daily_returns_tbl\n\n\n\n  \n\n\n##----.Step2 (Convert to User-Item Format)----\nstock_date_matrix_tbl <- sp_500_daily_returns_tbl %>%\n  select(symbol, date, pct_return) %>%\n  pivot_wider(names_from = date, values_from = pct_return, values_fill = 0) %>%\n  ungroup()\nstock_date_matrix_tbl\n\n\n\n  \n\n\n##----.step3 (Perform K-Means Clustering)----\n?kmeans\n\n#> starting httpd help server ... done\n\nkmeans_obj <- stock_date_matrix_tbl %>%\n  select(-symbol) %>%\n  kmeans(centers = 4, nstart = 20)\n#Get the tot.withinss using glance()\nglance(kmeans_obj)\n\n\n\n  \n\n\n##----.step4 (Find the optimal value of K)----\nkmeans_mapper <- function(center = 4) {\n  stock_date_matrix_tbl %>%\n    select(-symbol) %>%\n    kmeans(centers = center, nstart = 20)\n}\n\n4 %>% kmeans_mapper() %>% glance()\n\n\n\n  \n\n\nkmeans_mapped_tbl <- tibble(centers = 1:30) %>%\n  mutate(k_means = centers %>% map(kmeans_mapper)) %>%\n  mutate(glance  = k_means %>% map(glance))\n\n#> Warning: There was 1 warning in `mutate()`.\n#> ℹ In argument: `k_means = centers %>% map(kmeans_mapper)`.\n#> Caused by warning:\n#> ! did not converge in 10 iterations\n\nkmeans_mapped_tbl %>%\n  unnest(glance) %>%\n  select(centers, tot.withinss)\n\n\n\n  \n\n\n#Scree Plot\nkmeans_mapped_tbl %>%\n  unnest(glance) %>%\n  select(centers, tot.withinss) %>%\n  ggplot(aes(centers, tot.withinss)) +\n  geom_point(color = \"#2DC6D6\", size = 4) +\n  geom_line(color = \"#2DC6D6\", size = 1) +\n  ggrepel::geom_label_repel(aes(label = centers), color = \"#2DC6D6\",max.overlaps = 30) + \n  labs(title = \"Scree Plot\",\n       subtitle = \"Measures the distance each of the symbols are from the closes K-Means center\",\n       caption = \"Conclusion: Based on the Scree Plot, We can see that the Scree Plot becomes linear (constant rate of change) between 5 and 10 centers for K.\")\n\n#> Warning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.\n#> ℹ Please use `linewidth` instead.\n\n\n\n\n\n\n\n##----.step5 (Apply UMAP)----\n?umap\numap_results <- stock_date_matrix_tbl %>%\n  select(-symbol) %>%\n  umap()\n\numap_results_tbl <- umap_results$layout %>%\n  as_tibble(.name_repair = \"unique\") %>% \n  set_names(c(\"x\", \"y\")) %>%\n  bind_cols(\n    stock_date_matrix_tbl %>% select(symbol)\n  )\n\n#> New names:\n#> • `` -> `...1`\n#> • `` -> `...2`\n\numap_results_tbl %>%\n  ggplot(aes(x, y)) +\n  geom_point(size=0.5) + \n  geom_label_repel(aes(label = \"UMAP Projection\"), size = 3)\n\n#> Warning: ggrepel: 494 unlabeled data points (too many overlaps). Consider\n#> increasing max.overlaps\n\n\n\n\n\n\n\n#----.step6 (Combine K-Means and UMAP)----\nkmeans_obj <- kmeans_mapped_tbl %>%\n  pull(k_means) %>%\n  pluck(10)\n\nkmeans_clusters_tbl <- kmeans_obj %>% \n  augment(stock_date_matrix_tbl) %>%\n  select(symbol, .cluster)\numap_kmeans_results_tbl <- umap_results_tbl %>%\n  left_join(kmeans_clusters_tbl, by = \"symbol\") %>%\n  left_join(sp_500_index_tbl %>% select(symbol, company, sector), by = \"symbol\")\n\numap_kmeans_results_tbl %>%\n  mutate(label_text = str_glue(\"Customer: {symbol}\n                               Cluster: {.cluster}\")) %>%\n  \n  ggplot(aes(x, y, color = .cluster)) +\n  geom_point(size=0.5) +\n  geom_label_repel(aes(label = label_text), size = 2, fill = \"blue\", color = \"white\", max.overlaps = 30) +\n  scale_color_manual(values = palette_light() %>% rep(3)) +\n  labs(title = \"2D Projection\",\n       subtitle = \"UMAP 2D Projection with K-Means Cluster Assignment\") +\n  theme(legend.position = \"none\")\n\n#> Warning: ggrepel: 175 unlabeled data points (too many overlaps). Consider\n#> increasing max.overlaps"
  },
  {
    "objectID": "content/01_journal/02_Supervised_ML_Regression.html",
    "href": "content/01_journal/02_Supervised_ML_Regression.html",
    "title": "Data Acquisition",
    "section": "",
    "text": "Note\n\n\n\nYou can delete everything in here and start fresh."
  },
  {
    "objectID": "content/01_journal/03_Automated_Machine_Learning_with_H20_(I).html",
    "href": "content/01_journal/03_Automated_Machine_Learning_with_H20_(I).html",
    "title": "Data Wrangling",
    "section": "",
    "text": "Note\n\n\n\nYou can delete everything in here and start fresh."
  },
  {
    "objectID": "content/01_journal/04_Automated_Machine_Learning_with_H20_(II).html",
    "href": "content/01_journal/04_Automated_Machine_Learning_with_H20_(II).html",
    "title": "Data Visualization",
    "section": "",
    "text": "Note\n\n\n\nYou can delete everything in here and start fresh."
  },
  {
    "objectID": "content/01_journal/05_Performance_Measures.html",
    "href": "content/01_journal/05_Performance_Measures.html",
    "title": "Data Visualization",
    "section": "",
    "text": "Note\n\n\n\nYou can delete everything in here and start fresh."
  },
  {
    "objectID": "content/01_journal/06_Explaining_Black-Box_Models_With_LIMEs.html",
    "href": "content/01_journal/06_Explaining_Black-Box_Models_With_LIMEs.html",
    "title": "Data Visualization",
    "section": "",
    "text": "Note\n\n\n\nYou can delete everything in here and start fresh."
  },
  {
    "objectID": "content/02_notes/05_class_notes.html",
    "href": "content/02_notes/05_class_notes.html",
    "title": "Class Notes",
    "section": "",
    "text": "IMPORTANT: You can delete everything in here and start fresh. You might want to start by not deleting anything above this line until you know what that stuff is doing.\nThis is an .qmd file. It is plain text with special features. Any time you write just like this, it will be compiled to normal text in the website. If you put a # in front of your text, it will create a top level-header."
  },
  {
    "objectID": "content/03_other/06_links.html",
    "href": "content/03_other/06_links.html",
    "title": "Links",
    "section": "",
    "text": "R is a free open-source programming language that can be used for statistical analysis, data-simulation, graphing, and lots of other stuff. Another free program is R-studio, that provides a nice graphic interface for R. Download R first, then download R-studio. Both can run on PCs, Macs or Linux. Students will be learning R in the stats labs using the lab manual .\n\n\n\n\nGoogle is great, Google your problem\nStackoverflow is great, google will often take you there because someone has already asked your question, and someone else has answered, usually many people have answered your question many ways."
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "My Lab Journal",
    "section": "",
    "text": "Hi! In this website you will see the codes for the course “Business Decisions with Machine Learning”! :)"
  }
]